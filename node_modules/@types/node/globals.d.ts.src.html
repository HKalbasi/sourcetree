<span class="hljs-comment">// Declare &quot;static&quot; methods in Error</span>
<span class="hljs-keyword">interface</span> ErrorConstructor {
    <span class="hljs-comment">/** Create .stack property on a target object */</span>
    <span class="hljs-title function_">captureStackTrace</span>(<span class="hljs-attr">targetObject</span>: <span class="hljs-built_in">object</span>, constructorOpt?: <span class="hljs-title class_">Function</span>): <span class="hljs-built_in">void</span>;

    <span class="hljs-comment">/**
     * Optional override for formatting stack traces
     *
     * <span class="hljs-doctag">@see</span> https://v8.dev/docs/stack-trace-api#customizing-stack-traces
     */</span>
    prepareStackTrace?: (<span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">Error</span>, stackTraces: NodeJS.CallSite[]</span>) =&gt;</span> <span class="hljs-built_in">any</span>) | <span class="hljs-literal">undefined</span>;

    <span class="hljs-attr">stackTraceLimit</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">/*-----------------------------------------------*
 *                                               *
 *                   GLOBAL                      *
 *                                               *
 ------------------------------------------------*/</span>

<span class="hljs-comment">// For backwards compability</span>
<span class="hljs-keyword">interface</span> NodeRequire <span class="hljs-keyword">extends</span> NodeJS.Require { }
<span class="hljs-keyword">interface</span> RequireResolve <span class="hljs-keyword">extends</span> NodeJS.RequireResolve { }
<span class="hljs-keyword">interface</span> NodeModule <span class="hljs-keyword">extends</span> NodeJS.Module { }

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr"><span id="lsif9892">process</span></span>: <span class="hljs-title class_">Node</span>JS.<span class="hljs-property">Process</span>;
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr"><span id="lsif295">console</span></span>: <span class="hljs-title class_">Console</span>;

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr">__filename</span>: <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr"><span id="lsif1371">__dirname</span></span>: <span class="hljs-built_in">string</span>;

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr">require</span>: <span class="hljs-title class_">NodeRequire</span>;
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr">module</span>: <span class="hljs-title class_">NodeModule</span>;

<span class="hljs-comment">// Same as module.exports</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr">exports</span>: <span class="hljs-built_in">any</span>;

<span class="hljs-comment">/**
 * Only available if `--expose-gc` is passed to the process.
 */</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-attr">gc</span>: <span class="hljs-literal">undefined</span> | (<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>);

<span class="hljs-comment">//#region borrowed</span>
<span class="hljs-comment">// from https://github.com/microsoft/TypeScript/blob/38da7c600c83e7b31193a62495239a0fe478cb67/lib/lib.webworker.d.ts#L633 until moved to separate lib</span>
<span class="hljs-comment">/** A controller object that allows you to abort one or more DOM requests as and when desired. */</span>
<span class="hljs-keyword">interface</span> AbortController {
    <span class="hljs-comment">/**
     * Returns the AbortSignal object associated with this object.
     */</span>

    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>;
    <span class="hljs-comment">/**
     * Invoking this method will set this object&#x27;s AbortSignal&#x27;s aborted flag and signal to any observers that the associated activity is to be aborted.
     */</span>
    <span class="hljs-title function_">abort</span>(): <span class="hljs-built_in">void</span>;
}

<span class="hljs-comment">/** A signal object that allows you to communicate with a DOM request (such as a Fetch) and abort it if required via an AbortController object. */</span>
<span class="hljs-keyword">interface</span> AbortSignal {
    <span class="hljs-comment">/**
     * Returns true if this AbortSignal&#x27;s AbortController has signaled to abort, and false otherwise.
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">aborted</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-title class_">AbortController</span>: {
    <span class="hljs-attr">prototype</span>: <span class="hljs-title class_">AbortController</span>;
    <span class="hljs-title function_">new</span>(): <span class="hljs-title class_">AbortController</span>;
};

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> <span class="hljs-title class_">AbortSignal</span>: {
    <span class="hljs-attr">prototype</span>: <span class="hljs-title class_">AbortSignal</span>;
    <span class="hljs-title function_">new</span>(): <span class="hljs-title class_">AbortSignal</span>;
    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Add abort() static</span>
};
<span class="hljs-comment">//#endregion borrowed</span>

<span class="hljs-comment">//#region ArrayLike.at()</span>
<span class="hljs-keyword">interface</span> RelativeIndexable&lt;T&gt; {
    <span class="hljs-comment">/**
     * Takes an integer value and returns the item at that index,
     * allowing for positive and negative integers.
     * Negative integers count back from the last item in the array.
     */</span>
    <span class="hljs-title function_">at</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): T | <span class="hljs-literal">undefined</span>;
}
<span class="hljs-keyword">interface</span> String <span class="hljs-keyword">extends</span> RelativeIndexable&lt;string&gt; {}
<span class="hljs-keyword">interface</span> <span id="lsif6679">Array</span>&lt;T&gt; <span class="hljs-keyword">extends</span> RelativeIndexable&lt;T&gt; {}
<span class="hljs-keyword">interface</span> Int8Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Uint8Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Uint8ClampedArray <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Int16Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Uint16Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Int32Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Uint32Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Float32Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> Float64Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;number&gt; {}
<span class="hljs-keyword">interface</span> BigInt64Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;bigint&gt; {}
<span class="hljs-keyword">interface</span> BigUint64Array <span class="hljs-keyword">extends</span> RelativeIndexable&lt;bigint&gt; {}
<span class="hljs-comment">//#endregion ArrayLike.at() end</span>

<span class="hljs-comment">/*----------------------------------------------*
*                                               *
*               GLOBAL INTERFACES               *
*                                               *
*-----------------------------------------------*/</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">namespace</span> NodeJS {
    <span class="hljs-keyword">interface</span> CallSite {
        <span class="hljs-comment">/**
         * Value of &quot;this&quot;
         */</span>
        <span class="hljs-title function_">getThis</span>(): unknown;

        <span class="hljs-comment">/**
         * Type of &quot;this&quot; as a string.
         * This is the name of the function stored in the constructor field of
         * &quot;this&quot;, if available.  Otherwise the object&#x27;s [[Class]] internal
         * property.
         */</span>
        <span class="hljs-title function_">getTypeName</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * Current function
         */</span>
        <span class="hljs-title function_">getFunction</span>(): <span class="hljs-title class_">Function</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Name of the current function, typically its name property.
         * If a name property is not available an attempt will be made to try
         * to infer a name from the function&#x27;s context.
         */</span>
        <span class="hljs-title function_">getFunctionName</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * Name of the property [of &quot;this&quot; or one of its prototypes] that holds
         * the current function
         */</span>
        <span class="hljs-title function_">getMethodName</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * Name of the script [if this function was defined in a script]
         */</span>
        <span class="hljs-title function_">getFileName</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * Current line number [if this function was defined in a script]
         */</span>
        <span class="hljs-title function_">getLineNumber</span>(): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * Current column number [if this function was defined in a script]
         */</span>
        <span class="hljs-title function_">getColumnNumber</span>(): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;

        <span class="hljs-comment">/**
         * A call site object representing the location where eval was called
         * [if this function was created using a call to eval]
         */</span>
        <span class="hljs-title function_">getEvalOrigin</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Is this a toplevel invocation, that is, is &quot;this&quot; the global object?
         */</span>
        <span class="hljs-title function_">isToplevel</span>(): <span class="hljs-built_in">boolean</span>;

        <span class="hljs-comment">/**
         * Does this call take place in code defined by a call to eval?
         */</span>
        <span class="hljs-title function_">isEval</span>(): <span class="hljs-built_in">boolean</span>;

        <span class="hljs-comment">/**
         * Is this call in native V8 code?
         */</span>
        <span class="hljs-title function_">isNative</span>(): <span class="hljs-built_in">boolean</span>;

        <span class="hljs-comment">/**
         * Is this a constructor call?
         */</span>
        <span class="hljs-title function_">isConstructor</span>(): <span class="hljs-built_in">boolean</span>;
    }

    <span class="hljs-keyword">interface</span> ErrnoException <span class="hljs-keyword">extends</span> Error {
        errno?: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;
        code?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
        path?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
        syscall?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
        stack?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-keyword">interface</span> ReadableStream <span class="hljs-keyword">extends</span> EventEmitter {
        <span class="hljs-attr">readable</span>: <span class="hljs-built_in">boolean</span>;
        <span class="hljs-title function_">read</span>(size?: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Buffer</span>;
        <span class="hljs-title function_">setEncoding</span>(<span class="hljs-attr">encoding</span>: <span class="hljs-title class_">BufferEncoding</span>): <span class="hljs-variable language_">this</span>;
        <span class="hljs-title function_">pause</span>(): <span class="hljs-variable language_">this</span>;
        <span class="hljs-title function_">resume</span>(): <span class="hljs-variable language_">this</span>;
        <span class="hljs-title function_">isPaused</span>(): <span class="hljs-built_in">boolean</span>;
        pipe&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">WritableStream</span>&gt;(<span class="hljs-attr">destination</span>: T, options?: { end?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>; }): T;
        <span class="hljs-title function_">unpipe</span>(destination?: <span class="hljs-title class_">WritableStream</span>): <span class="hljs-variable language_">this</span>;
        <span class="hljs-title function_">unshift</span>(<span class="hljs-attr">chunk</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Uint</span>8<span class="hljs-built_in">Array</span>, encoding?: <span class="hljs-title class_">BufferEncoding</span>): <span class="hljs-built_in">void</span>;
        <span class="hljs-title function_">wrap</span>(<span class="hljs-attr">oldStream</span>: <span class="hljs-title class_">ReadableStream</span>): <span class="hljs-variable language_">this</span>;
        [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncIterator</span>](): <span class="hljs-title class_">AsyncIterableIterator</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-title class_">Buffer</span>&gt;;
    }

    <span class="hljs-keyword">interface</span> WritableStream <span class="hljs-keyword">extends</span> EventEmitter {
        <span class="hljs-attr">writable</span>: <span class="hljs-built_in">boolean</span>;
        <span class="hljs-title function_">write</span>(<span class="hljs-attr">buffer</span>: <span class="hljs-title class_">Uint</span>8<span class="hljs-built_in">Array</span> | <span class="hljs-built_in">string</span>, cb?: <span class="hljs-function">(<span class="hljs-params">err?: <span class="hljs-built_in">Error</span> | <span class="hljs-literal">null</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">boolean</span>;
        <span class="hljs-title function_">write</span>(<span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>, encoding?: <span class="hljs-title class_">BufferEncoding</span>, cb?: <span class="hljs-function">(<span class="hljs-params">err?: <span class="hljs-built_in">Error</span> | <span class="hljs-literal">null</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">boolean</span>;
        <span class="hljs-title function_">end</span>(cb?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;
        <span class="hljs-title function_">end</span>(<span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Uint</span>8<span class="hljs-built_in">Array</span>, cb?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;
        <span class="hljs-title function_">end</span>(<span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>, encoding?: <span class="hljs-title class_">BufferEncoding</span>, cb?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;
    }

    <span class="hljs-keyword">interface</span> ReadWriteStream <span class="hljs-keyword">extends</span> ReadableStream, WritableStream { }

    <span class="hljs-keyword">interface</span> RefCounted {
        <span class="hljs-title function_">ref</span>(): <span class="hljs-variable language_">this</span>;
        <span class="hljs-title function_">unref</span>(): <span class="hljs-variable language_">this</span>;
    }

    <span class="hljs-keyword">type</span> <span class="hljs-title class_">TypedArray</span> =
        | <span class="hljs-title class_">Uint</span>8<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Uint</span>8ClampedArray
        | <span class="hljs-title class_">Uint</span>16<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Uint</span>32<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Int</span>8<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Int</span>16<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Int</span>32<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">BigUint</span>64<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">BigInt</span>64<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Float</span>32<span class="hljs-built_in">Array</span>
        | <span class="hljs-title class_">Float</span>64<span class="hljs-built_in">Array</span>;
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">ArrayBufferView</span> = <span class="hljs-title class_">TypedArray</span> | <span class="hljs-title class_">DataView</span>;

    <span class="hljs-keyword">interface</span> Require {
        (<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">any</span>;
        <span class="hljs-attr">resolve</span>: <span class="hljs-title class_">RequireResolve</span>;
        <span class="hljs-attr">cache</span>: <span class="hljs-title class_">Dict</span>&lt;<span class="hljs-title class_">NodeModule</span>&gt;;
        <span class="hljs-comment">/**
         * <span class="hljs-doctag">@deprecated</span>
         */</span>
        <span class="hljs-attr">extensions</span>: <span class="hljs-title class_">RequireExtensions</span>;
        <span class="hljs-attr">main</span>: <span class="hljs-title class_">Module</span> | <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-keyword">interface</span> RequireResolve {
        (<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, options?: { paths?: <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">undefined</span>; }): <span class="hljs-built_in">string</span>;
        <span class="hljs-title function_">paths</span>(<span class="hljs-attr">request</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">interface</span> RequireExtensions <span class="hljs-keyword">extends</span> Dict&lt;(m: Module, filename: string) =&gt; any&gt; {
        <span class="hljs-string">&#x27;.js&#x27;</span>: <span class="hljs-function">(<span class="hljs-params">m: Module, filename: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">any</span>;
        <span class="hljs-string">&#x27;.json&#x27;</span>: <span class="hljs-function">(<span class="hljs-params">m: Module, filename: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">any</span>;
        <span class="hljs-string">&#x27;.node&#x27;</span>: <span class="hljs-function">(<span class="hljs-params">m: Module, filename: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">any</span>;
    }
    <span class="hljs-keyword">interface</span> Module {
        <span class="hljs-comment">/**
         * `true` if the module is running during the Node.js preload
         */</span>
        <span class="hljs-attr">isPreloading</span>: <span class="hljs-built_in">boolean</span>;
        <span class="hljs-attr">exports</span>: <span class="hljs-built_in">any</span>;
        <span class="hljs-attr">require</span>: <span class="hljs-title class_">Require</span>;
        <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
        <span class="hljs-attr">filename</span>: <span class="hljs-built_in">string</span>;
        <span class="hljs-attr">loaded</span>: <span class="hljs-built_in">boolean</span>;
        <span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> since 14.6.0 Please use `require.main` and `module.children` instead. */</span>
        <span class="hljs-attr">parent</span>: <span class="hljs-title class_">Module</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>;
        <span class="hljs-attr">children</span>: <span class="hljs-title class_">Module</span>[];
        <span class="hljs-comment">/**
         * <span class="hljs-doctag">@since</span> 11.14.0
         *
         * The directory name of the module. This is usually the same as the path.dirname() of the module.id.
         */</span>
        <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>;
        <span class="hljs-attr">paths</span>: <span class="hljs-built_in">string</span>[];
    }

    <span class="hljs-keyword">interface</span> Dict&lt;T&gt; {
        [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: T | <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-keyword">interface</span> ReadOnlyDict&lt;T&gt; {
        <span class="hljs-keyword">readonly</span> [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: T | <span class="hljs-literal">undefined</span>;
    }
}
