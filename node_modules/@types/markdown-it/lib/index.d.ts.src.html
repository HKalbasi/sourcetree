<span class="hljs-keyword">import</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./common/utils&#x27;</span>);
<span class="hljs-keyword">import</span> helpers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./helpers&#x27;</span>);
<span class="hljs-keyword">import</span> <span class="hljs-title class_">State</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./rules_core/state_core&#x27;</span>);
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Renderer</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./renderer&#x27;</span>);
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ParserCore</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./parser_core&#x27;</span>);
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ParserBlock</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./parser_block&#x27;</span>);
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ParserInline</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./parser_inline&#x27;</span>);

<span class="hljs-keyword">import</span> <span class="hljs-title class_">LinkifyIt</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;linkify-it&#x27;</span>);

<span class="hljs-keyword">import</span> <span class="hljs-title class_">Token</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./token&#x27;</span>);

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">namespace</span> <span id="lsif5678">MarkdownIt</span> {
    <span class="hljs-comment">/**
     * MarkdownIt provides named presets as a convenience to quickly
     * enable/disable active syntax rules and options for common use cases.
     *
     * - [&quot;commonmark&quot;](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -
     *   configures parser to strict [CommonMark](http://commonmark.org/) mode.
     * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -
     *   similar to GFM, used when no preset name given. Enables all available rules,
     *   but still without html, typographer &amp; autolinker.
     * - [&quot;zero&quot;](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -
     *   all rules disabled. Useful to quickly setup your config via `.enable()`.
     *   For example, when you need only `bold` and `italic` markup and nothing else.
     */</span>
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">PresetName</span> = <span class="hljs-string">&#x27;default&#x27;</span> | <span class="hljs-string">&#x27;zero&#x27;</span> | <span class="hljs-string">&#x27;commonmark&#x27;</span>;

    <span class="hljs-keyword">interface</span> Options {
        <span class="hljs-comment">/**
         * Set `true` to enable HTML tags in source. Be careful!
         * That&#x27;s not safe! You may need external sanitizer to protect output from XSS.
         * It&#x27;s better to extend features via plugins, instead of enabling HTML.
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
         */</span>
        html?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Set `true` to add &#x27;/&#x27; when closing single tags
         * (`&lt;br /&gt;`). This is needed only for full CommonMark compatibility. In real
         * world you will need HTML output.
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
         */</span>
        xhtmlOut?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Set `true` to convert `\n` in paragraphs into `&lt;br&gt;`.
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
         */</span>
        breaks?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * CSS language class prefix for fenced blocks.
         * Can be useful for external highlighters.
         * <span class="hljs-doctag">@default</span> &#x27;language-&#x27;
         */</span>
        langPrefix?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Set `true` to autoconvert URL-like text to links.
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
         */</span>
        linkify?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Set `true` to enable [some language-neutral replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +
         * quotes beautification (smartquotes).
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
         */</span>
        typographer?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

        <span class="hljs-comment">/**
         * Double + single quotes replacement
         * pairs, when typographer enabled and smartquotes on. For example, you can
         * use `&#x27;«»„“&#x27;` for Russian, `&#x27;„“‚‘&#x27;` for German, and
         * `[&#x27;«\xA0&#x27;, &#x27;\xA0»&#x27;, &#x27;‹\xA0&#x27;, &#x27;\xA0›&#x27;]` for French (including nbsp).
         * <span class="hljs-doctag">@default</span> &#x27;“”‘’&#x27;
         */</span>
        quotes?: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[];

        <span class="hljs-comment">/**
         * Highlighter function for fenced code blocks.
         * Highlighter `function (str, lang, attrs)` should return escaped HTML. It can
         * also return empty string if the source was not changed and should be escaped
         * externally. If result starts with &lt;pre... internal wrapper is skipped.
         * <span class="hljs-doctag">@default</span> <span class="hljs-variable">null</span>
         */</span>
        highlight?: (<span class="hljs-function">(<span class="hljs-params">str: <span class="hljs-built_in">string</span>, lang: <span class="hljs-built_in">string</span>, attrs: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>) | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-keyword">type</span> <span class="hljs-title class_">PluginSimple</span> = <span class="hljs-function">(<span class="hljs-params">md: MarkdownIt</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">PluginWithOptions</span>&lt;T = <span class="hljs-built_in">any</span>&gt; = <span class="hljs-function">(<span class="hljs-params">md: MarkdownIt, options?: T</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">PluginWithParams</span> = <span class="hljs-function">(<span class="hljs-params">md: MarkdownIt, ...params: <span class="hljs-built_in">any</span>[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">interface</span> MarkdownItConstructor {
    <span class="hljs-keyword">new</span> (): <span class="hljs-title class_">MarkdownIt</span>;
    <span class="hljs-keyword">new</span> (<span class="hljs-attr">presetName</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PresetName</span>, options?: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>): <span class="hljs-title class_">MarkdownIt</span>;
    <span class="hljs-keyword">new</span> (<span class="hljs-attr">options</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>): <span class="hljs-title class_">MarkdownIt</span>;
    (): <span class="hljs-title class_">MarkdownIt</span>;
    (<span class="hljs-attr">presetName</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PresetName</span>, options?: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>): <span class="hljs-title class_">MarkdownIt</span>;
    (<span class="hljs-attr">options</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>): <span class="hljs-title class_">MarkdownIt</span>;
}

<span class="hljs-keyword">interface</span> <span id="lsif5682">MarkdownIt</span> {
    <span class="hljs-comment">/**
     * Instance of [[ParserInline]]. You may need it to add new rules when
     * writing plugins. For simple rules control use [[MarkdownIt.disable]] and
     * [[MarkdownIt.enable]].
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">inline</span>: <span class="hljs-title class_">ParserInline</span>;

    <span class="hljs-comment">/**
     * Instance of [[ParserBlock]]. You may need it to add new rules when
     * writing plugins. For simple rules control use [[MarkdownIt.disable]] and
     * [[MarkdownIt.enable]].
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">block</span>: <span class="hljs-title class_">ParserBlock</span>;

    <span class="hljs-comment">/**
     * Instance of [[Core]] chain executor. You may need it to add new rules when
     * writing plugins. For simple rules control use [[MarkdownIt.disable]] and
     * [[MarkdownIt.enable]].
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">core</span>: <span class="hljs-title class_">ParserCore</span>;

    <span class="hljs-comment">/**
     * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering
     * rules for new token types, generated by plugins.
     *
     * ##### Example
     *
     * ```javascript
     * var md = require(&#x27;markdown-it&#x27;)();
     *
     * function myToken(tokens, idx, options, env, self) {
     *   //...
     *   return result;
     * };
     *
     * md.renderer.rules[&#x27;my_token&#x27;] = myToken
     * ```
     *
     * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">renderer</span>: <span class="hljs-title class_">Renderer</span>;

    <span class="hljs-comment">/**
     * [linkify-it](https://github.com/markdown-it/linkify-it) instance.
     * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)
     * rule.
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">linkify</span>: <span class="hljs-title class_">LinkifyIt</span>.<span class="hljs-property">LinkifyIt</span>;

    <span class="hljs-comment">/**
     * Link validation function. CommonMark allows too much in links. By default
     * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas
     * except some embedded image types.
     *
     * You can change this behaviour:
     *
     * ```javascript
     * var md = require(&#x27;markdown-it&#x27;)();
     * // enable everything
     * md.validateLink = function () { return true; }
     * ```
     */</span>
    <span class="hljs-title function_">validateLink</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span>;

    <span class="hljs-comment">/**
     * Function used to encode link url to a machine-readable format,
     * which includes url-encoding, punycode, etc.
     */</span>
    <span class="hljs-title function_">normalizeLink</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;

    <span class="hljs-comment">/**
     * Function used to decode link url to a human-readable format`
     */</span>
    <span class="hljs-title function_">normalizeLinkText</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;

    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">utils</span>: <span class="hljs-keyword">typeof</span> utils;

    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">helpers</span>: <span class="hljs-keyword">typeof</span> helpers;

    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>;

    <span class="hljs-comment">/**
     * *chainable*
     *
     * Set parser options (in the same format as in constructor). Probably, you
     * will never need it, but you can change options after constructor call.
     *
     * ##### Example
     *
     * ```javascript
     * var md = require(&#x27;markdown-it&#x27;)()
     *             .set({ html: true, breaks: true })
     *             .set({ typographer: true });
     * ```
     *
     * __Note:__ To achieve the best possible performance, don&#x27;t modify a
     * `markdown-it` instance options on the fly. If you need multiple configurations
     * it&#x27;s best to create multiple instances and initialize each with separate
     * config.
     */</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-attr">options</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">Options</span>): <span class="hljs-variable language_">this</span>;

    <span class="hljs-comment">/**
     * *chainable*, *internal*
     *
     * Batch load of all options and compenent settings. This is internal method,
     * and you probably will not need it. But if you with - see available presets
     * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)
     *
     * We strongly recommend to use presets instead of direct config loads. That
     * will give better compatibility with next versions.
     */</span>
    <span class="hljs-title function_">configure</span>(<span class="hljs-attr">presets</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PresetName</span>): <span class="hljs-variable language_">this</span>;

    <span class="hljs-comment">/**
     * *chainable*
     *
     * Enable list or rules. It will automatically find appropriate components,
     * containing rules with given names. If rule not found, and `ignoreInvalid`
     * not set - throws exception.
     *
     * ##### Example
     *
     * ```javascript
     * var md = require(&#x27;markdown-it&#x27;)()
     *             .enable([&#x27;sub&#x27;, &#x27;sup&#x27;])
     *             .disable(&#x27;smartquotes&#x27;);
     * ```
     *
     * <span class="hljs-doctag">@param</span> list rule name or list of rule names to enable
     * <span class="hljs-doctag">@param</span> ignoreInvalid set `true` to ignore errors when rule not found.
     */</span>
    <span class="hljs-title function_">enable</span>(<span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[], ignoreInvalid?: <span class="hljs-built_in">boolean</span>): <span class="hljs-variable language_">this</span>;

    <span class="hljs-comment">/**
     * *chainable*
     *
     * The same as [[MarkdownIt.enable]], but turn specified rules off.
     *
     * <span class="hljs-doctag">@param</span> list rule name or list of rule names to disable.
     * <span class="hljs-doctag">@param</span> ignoreInvalid set `true` to ignore errors when rule not found.
     */</span>
    <span class="hljs-title function_">disable</span>(<span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[], ignoreInvalid?: <span class="hljs-built_in">boolean</span>): <span class="hljs-variable language_">this</span>;

    <span class="hljs-comment">/**
     * *chainable*
     *
     * Load specified plugin with given params into current parser instance.
     * It&#x27;s just a sugar to call `plugin(md, params)` with curring.
     *
     * ##### Example
     *
     * ```javascript
     * var iterator = require(&#x27;markdown-it-for-inline&#x27;);
     * var md = require(&#x27;markdown-it&#x27;)()
     *             .use(iterator, &#x27;foo_replace&#x27;, &#x27;text&#x27;, function (tokens, idx) {
     *               tokens[idx].content = tokens[idx].content.replace(/foo/g, &#x27;bar&#x27;);
     *             });
     * ```
     */</span>
    <span class="hljs-title function_">use</span>(<span class="hljs-attr">plugin</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PluginSimple</span>): <span class="hljs-variable language_">this</span>;
    use&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">plugin</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PluginWithOptions</span>&lt;T&gt;, options?: T): <span class="hljs-variable language_">this</span>;
    <span class="hljs-title function_">use</span>(<span class="hljs-attr">plugin</span>: <span class="hljs-title class_">MarkdownIt</span>.<span class="hljs-property">PluginWithParams</span>, ...<span class="hljs-attr">params</span>: <span class="hljs-built_in">any</span>[]): <span class="hljs-variable language_">this</span>;

    <span class="hljs-comment">/**
     * *internal*
     *
     * Parse input string and returns list of block tokens (special token type
     * &quot;inline&quot; will contain list of inline tokens). You should not call this
     * method directly, until you write custom renderer (for example, to produce
     * AST).
     *
     * `env` is used to pass data between &quot;distributed&quot; rules and return additional
     * metadata like reference info, needed for the renderer. It also can be used to
     * inject data in specific cases. Usually, you will be ok to pass `{}`,
     * and then pass updated object to renderer.
     *
     * <span class="hljs-doctag">@param</span> src source string
     * <span class="hljs-doctag">@param</span> env environment sandbox
     */</span>
    <span class="hljs-title function_">parse</span>(<span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">env</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Token</span>[];

    <span class="hljs-comment">/**
     * Render markdown string into html. It does all magic for you :).
     *
     * `env` can be used to inject additional metadata (`{}` by default).
     * But you will not need it with high probability. See also comment
     * in [[MarkdownIt.parse]].
     *
     * <span class="hljs-doctag">@param</span> src source string
     * <span class="hljs-doctag">@param</span> env environment sandbox
     */</span>
    <span class="hljs-title function_"><span id="lsif6644">render</span></span>(<span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>, env?: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">string</span>;

    <span class="hljs-comment">/**
     * *internal*
     *
     * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the
     * block tokens list with the single `inline` element, containing parsed inline
     * tokens in `children` property. Also updates `env` object.
     *
     * <span class="hljs-doctag">@param</span> src source string
     * <span class="hljs-doctag">@param</span> env environment sandbox
     */</span>
    <span class="hljs-title function_">parseInline</span>(<span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">env</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Token</span>[];

    <span class="hljs-comment">/**
     * Similar to [[MarkdownIt.render]] but for single paragraph content. Result
     * will NOT be wrapped into `&lt;p&gt;` tags.
     *
     * <span class="hljs-doctag">@param</span> src source string
     * <span class="hljs-doctag">@param</span> env environment sandbox
     */</span>
    <span class="hljs-title function_">renderInline</span>(<span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>, env?: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/**
 * Main parser/renderer class.
 *
 * ##### Usage
 *
 * ```javascript
 * // node.js, &quot;classic&quot; way:
 * var MarkdownIt = require(&#x27;markdown-it&#x27;),
 *     md = new MarkdownIt();
 * var result = md.render(&#x27;# markdown-it rulezz!&#x27;);
 *
 * // node.js, the same, but with sugar:
 * var md = require(&#x27;markdown-it&#x27;)();
 * var result = md.render(&#x27;# markdown-it rulezz!&#x27;);
 *
 * // browser without AMD, added to &quot;window&quot; on script load
 * // Note, there are no dash.
 * var md = window.markdownit();
 * var result = md.render(&#x27;# markdown-it rulezz!&#x27;);
 * ```
 *
 * Single line rendering, without paragraph wrap:
 *
 * ```javascript
 * var md = require(&#x27;markdown-it&#x27;)();
 * var result = md.renderInline(&#x27;__markdown-it__ rulezz!&#x27;);
 * ```
 *
 * ##### Example
 *
 * ```javascript
 * // commonmark mode
 * var md = require(&#x27;markdown-it&#x27;)(&#x27;commonmark&#x27;);
 *
 * // default mode
 * var md = require(&#x27;markdown-it&#x27;)();
 *
 * // enable everything
 * var md = require(&#x27;markdown-it&#x27;)({
 *   html: true,
 *   linkify: true,
 *   typographer: true
 * });
 * ```
 *
 * ##### Syntax highlighting
 *
 * ```js
 * var hljs = require(&#x27;highlight.js&#x27;) // https://highlightjs.org/
 *
 * var md = require(&#x27;markdown-it&#x27;)({
 *   highlight: function (str, lang) {
 *     if (lang &amp;&amp; hljs.getLanguage(lang)) {
 *       try {
 *         return hljs.highlight(lang, str, true).value;
 *       } catch (__) {}
 *     }
 *
 *     return &#x27;&#x27;; // use external default escaping
 *   }
 * });
 * ```
 *
 * Or with full wrapper override (if you need assign class to `&lt;pre&gt;`):
 *
 * ```javascript
 * var hljs = require(&#x27;highlight.js&#x27;) // https://highlightjs.org/
 *
 * // Actual default values
 * var md = require(&#x27;markdown-it&#x27;)({
 *   highlight: function (str, lang) {
 *     if (lang &amp;&amp; hljs.getLanguage(lang)) {
 *       try {
 *         return &#x27;&lt;pre class=&quot;hljs&quot;&gt;&lt;code&gt;&#x27; +
 *                hljs.highlight(lang, str, true).value +
 *                &#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;;
 *       } catch (__) {}
 *     }
 *
 *     return &#x27;&lt;pre class=&quot;hljs&quot;&gt;&lt;code&gt;&#x27; + md.utils.escapeHtml(str) + &#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;;
 *   }
 * });
 * ```
 */</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_"><span id="lsif5684">MarkdownIt</span></span>: <span class="hljs-title class_">MarkdownItConstructor</span>;

<span class="hljs-keyword">export</span> = <span class="hljs-title class_">MarkdownIt</span>;
