<span class="hljs-comment">// Type definitions for ejs 3.1</span>
<span class="hljs-comment">// Project: http://ejs.co/, https://github.com/mde/ejs</span>
<span class="hljs-comment">// Definitions by: Ben Liddicott &lt;https://github.com/benliddicott&gt;</span>
<span class="hljs-comment">//                 ExE Boss &lt;https://github.com/ExE-Boss&gt;</span>
<span class="hljs-comment">//                 Piotr Błażejewicz &lt;https://github.com/peterblazejewicz&gt;</span>
<span class="hljs-comment">// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped</span>
<span class="hljs-comment">// TypeScript Version: 2.4</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">namespace</span> ejs;

/**
 * Version of EJS.
 */
export const VERSION: string;

/**
 * Name for detection of EJS.
 */
export const name: &#x27;ejs&#x27;;

/**
 * Get the path to the included file from the parent file path and the
 * specified path.
 *
 * @param name specified path
 * @param filename parent file path
 * @param isDir whether the parent file path is a directory
 */
export function resolveInclude(name: string, filename: string, isDir?: boolean): string;

/**
 * Compile the given `str` of ejs into a template function.
 */
export function <span id="lsif5350">compile</span>(
    template: string,
    opts: Options &amp; { <span class="hljs-attr">async</span>: <span class="hljs-literal">true</span>; client?: <span class="hljs-literal">false</span> | <span class="hljs-literal">undefined</span> },
): <span class="hljs-title class_">AsyncTemplateFunction</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_"><span id="lsif5354">compile</span></span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, opts: Options &amp; { <span class="hljs-keyword">async</span>: <span class="hljs-literal">true</span>; client: <span class="hljs-literal">true</span> }</span>): <span class="hljs-title class_">AsyncClientFunction</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_"><span id="lsif5356">compile</span></span>(<span class="hljs-params">
    template: <span class="hljs-built_in">string</span>,
    opts?: Options &amp; { <span class="hljs-keyword">async</span>?: <span class="hljs-literal">false</span> | <span class="hljs-literal">undefined</span>; client?: <span class="hljs-literal">false</span> | <span class="hljs-literal">undefined</span> },
</span>): <span class="hljs-title class_">TemplateFunction</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_"><span id="lsif5358">compile</span></span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, opts?: Options &amp; { <span class="hljs-keyword">async</span>?: <span class="hljs-literal">false</span> | <span class="hljs-literal">undefined</span>; client: <span class="hljs-literal">true</span> }</span>): <span class="hljs-title class_">ClientFunction</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_"><span id="lsif5360">compile</span></span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, opts?: Options</span>): <span class="hljs-title class_">TemplateFunction</span> | <span class="hljs-title class_">AsyncTemplateFunction</span>;

<span class="hljs-comment">/**
 * Render the given `template` of ejs.
 *
 * If you would like to include options but not data, you need to explicitly
 * call this function with `data` being an empty object or `null`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, data?: Data, opts?: Options &amp; { <span class="hljs-keyword">async</span>: <span class="hljs-literal">false</span> }</span>): <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, data: Data | <span class="hljs-literal">undefined</span>, opts: Options &amp; { <span class="hljs-keyword">async</span>: <span class="hljs-literal">true</span> }</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, data: Data | <span class="hljs-literal">undefined</span>, opts: Options &amp; { <span class="hljs-keyword">async</span>?: <span class="hljs-built_in">never</span> | <span class="hljs-literal">undefined</span> }</span>): <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">template: <span class="hljs-built_in">string</span>, data?: Data, opts?: Options</span>): <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;

<span class="hljs-comment">/**
 * Callback for receiving data from `renderFile`.
 *
 * <span class="hljs-doctag">@param</span> err error, if any resulted from the rendering process
 * <span class="hljs-doctag">@param</span> str output string, is `undefined` if there is an error
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">RenderFileCallback</span>&lt;T&gt; = <span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">Error</span> | <span class="hljs-literal">null</span>, str: <span class="hljs-built_in">string</span></span>) =&gt;</span> T;

<span class="hljs-comment">/**
 * Render an EJS file at the given `path` and callback `cb(err, str)`.
 *
 * If you would like to include options but not data, you need to explicitly
 * call this function with `data` being an empty object or `null`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> renderFile&lt;T&gt;(<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">cb</span>: <span class="hljs-title class_">RenderFileCallback</span>&lt;T&gt;): T;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> renderFile&lt;T&gt;(<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">data</span>: <span class="hljs-title class_">Data</span>, <span class="hljs-attr">cb</span>: <span class="hljs-title class_">RenderFileCallback</span>&lt;T&gt;): T;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> renderFile&lt;T&gt;(<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">data</span>: <span class="hljs-title class_">Data</span>, <span class="hljs-attr">opts</span>: <span class="hljs-title class_">Options</span>, <span class="hljs-attr">cb</span>: <span class="hljs-title class_">RenderFileCallback</span>&lt;T&gt;): T;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderFile</span>(<span class="hljs-params">path: <span class="hljs-built_in">string</span>, data?: Data, opts?: Options</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;

<span class="hljs-comment">/**
 * Clear intermediate JavaScript cache. Calls {<span class="hljs-doctag">@link</span> Cache#reset}.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">clearCache</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span>;

<span class="hljs-comment">/**
 * EJS template function cache. This can be a LRU object from lru-cache
 * NPM module. By default, it is `utils.cache`, a simple in-process
 * cache that grows continuously.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">Cache</span>;

<span class="hljs-comment">/**
 * Custom file loader. Useful for template preprocessing or restricting access
 * to a certain part of the filesystem.
 *
 * <span class="hljs-doctag">@param</span> path the path of the file to be read
 * <span class="hljs-doctag">@return</span> the contents of the file as a string or object that implements the toString() method
 *
 * <span class="hljs-doctag">@default</span> fs.readFileSync
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> fileLoader = <span class="hljs-function">(<span class="hljs-params">path: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span> | { <span class="hljs-title function_">toString</span>(): <span class="hljs-built_in">string</span> };
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">fileLoader</span>: fileLoader;

<span class="hljs-comment">/**
 * Name of the object containing the locals.
 *
 * This variable is overridden by {<span class="hljs-doctag">@link</span> Options}`.localsName` if it is not
 * `undefined`.
 *
 * <span class="hljs-doctag">@default</span> &#x27;locals&#x27;
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">localsName</span>: <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * The opening delimiter for all statements. This allows you to clearly delinate
 * the difference between template code and existing delimiters. (It is recommended
 * to synchronize this with the closeDelimiter property.)
 *
 * <span class="hljs-doctag">@default</span> &#x27;&lt;&#x27;
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">openDelimiter</span>: <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * The closing delimiter for all statements. This allows to to clearly delinate
 * the difference between template code and existing delimiters. (It is recommended
 * to synchronize this with the openDelimiter property.)
 *
 * <span class="hljs-doctag">@default</span> &#x27;&gt;&#x27;
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">closeDelimiter</span>: <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * The delimiter used in template compilation.
 *
 * <span class="hljs-doctag">@default</span> &#x27;%&#x27;
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">delimiter</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

<span class="hljs-comment">/**
 * Promise implementation -- defaults to the native implementation if available
 * This is mostly just for testability
 *
 * <span class="hljs-doctag">@default</span> <span class="hljs-variable">Promise</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">promiseImpl</span>: <span class="hljs-title class_">PromiseConstructorLike</span> | <span class="hljs-literal">undefined</span>;

<span class="hljs-comment">/**
 * Escape characters reserved in XML.
 *
 * This is simply an export of `utils.escapeXML`.
 *
 * If `markup` is `undefined` or `null`, the empty string is returned.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">escapeXML</span>(<span class="hljs-params">markup?: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">string</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Template</span> {
    <span class="hljs-comment">/**
     * The EJS template source text.
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">templateText</span>: <span class="hljs-built_in">string</span>;

    <span class="hljs-comment">/**
     * The compiled JavaScript function source, or the empty string
     * if the template hasn&#x27;t been compiled yet.
     */</span>
    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">source</span>: <span class="hljs-built_in">string</span>;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span>, opts?: Options</span>);

    <span class="hljs-comment">/**
     * Compiles the EJS template.
     */</span>
    <span class="hljs-title function_">compile</span>(): <span class="hljs-title class_">TemplateFunction</span> | <span class="hljs-title class_">AsyncTemplateFunction</span> | <span class="hljs-title class_">ClientFunction</span> | <span class="hljs-title class_">AsyncClientFunction</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">namespace</span> Template {
    <span class="hljs-built_in">enum</span> modes {
        <span class="hljs-variable constant_">EVAL</span> = <span class="hljs-string">&#x27;eval&#x27;</span>,
        <span class="hljs-variable constant_">ESCAPED</span> = <span class="hljs-string">&#x27;escaped&#x27;</span>,
        <span class="hljs-variable constant_">RAW</span> = <span class="hljs-string">&#x27;raw&#x27;</span>,
        <span class="hljs-variable constant_">COMMENT</span> = <span class="hljs-string">&#x27;comment&#x27;</span>,
        <span class="hljs-variable constant_">LITERAL</span> = <span class="hljs-string">&#x27;literal&#x27;</span>,
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> Data {
    [<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">/**
 * This type of function is returned from `compile`, when
 * `Options.client` is false.
 *
 * <span class="hljs-doctag">@param</span> data an object of data to be passed into the template.
 * <span class="hljs-doctag">@return</span> Return type depends on `Options.async`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">TemplateFunction</span> = <span class="hljs-function">(<span class="hljs-params">data?: Data</span>) =&gt;</span> <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * This type of function is returned from `compile`, when
 * `Options.client` is false.
 *
 * <span class="hljs-doctag">@param</span> data an object of data to be passed into the template.
 * <span class="hljs-doctag">@return</span> Return type depends on `Options.async`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">AsyncTemplateFunction</span> = <span class="hljs-function">(<span class="hljs-params">data?: Data</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;

<span class="hljs-comment">/**
 * This type of function is returned from `compile`, when
 * `Options.client` is true.
 *
 *
 * This is also used internally to generate a `TemplateFunction`.
 *
 * <span class="hljs-doctag">@param</span> locals an object of data to be passed into the template.
 * The name of this variable is adjustable through `localsName`.
 *
 * <span class="hljs-doctag">@param</span> escape callback used to escape variables
 * <span class="hljs-doctag">@param</span> include callback used to include files at runtime with `include()`
 * <span class="hljs-doctag">@param</span> rethrow callback used to handle and rethrow errors
 *
 * <span class="hljs-doctag">@return</span> Return type depends on `Options.async`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ClientFunction</span> = <span class="hljs-function">(<span class="hljs-params">
    locals?: Data,
    <span class="hljs-built_in">escape</span>?: EscapeCallback,
    include?: IncludeCallback,
    rethrow?: RethrowCallback,
</span>) =&gt;</span> <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * This type of function is returned from `compile`, when
 * `Options.client` is true.
 *
 *
 * This is also used internally to generate a `TemplateFunction`.
 *
 * <span class="hljs-doctag">@param</span> locals an object of data to be passed into the template.
 * The name of this variable is adjustable through `localsName`.
 *
 * <span class="hljs-doctag">@param</span> escape callback used to escape variables
 * <span class="hljs-doctag">@param</span> include callback used to include files at runtime with `include()`
 * <span class="hljs-doctag">@param</span> rethrow callback used to handle and rethrow errors
 *
 * <span class="hljs-doctag">@return</span> Return type depends on `Options.async`.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">AsyncClientFunction</span> = <span class="hljs-function">(<span class="hljs-params">
    locals?: Data,
    <span class="hljs-built_in">escape</span>?: EscapeCallback,
    include?: IncludeCallback,
    rethrow?: RethrowCallback,
</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;

<span class="hljs-comment">/**
 * Escapes a string using HTML/XML escaping rules.
 *
 * Returns the empty string for `null` or `undefined`.
 *
 * <span class="hljs-doctag">@param</span> markup Input string
 * <span class="hljs-doctag">@return</span> Escaped string
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">EscapeCallback</span> = <span class="hljs-function">(<span class="hljs-params">markup?: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * This type of callback is used when `Options.compileDebug`
 * is `true`, and an error in the template is thrown.
 *
 * By default it is used to rethrow an error in a better-formatted way.
 *
 * <span class="hljs-doctag">@param</span> err Error object
 * <span class="hljs-doctag">@param</span> str full EJS source
 * <span class="hljs-doctag">@param</span> filename file name of the EJS source
 * <span class="hljs-doctag">@param</span> lineno line number of the error
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">RethrowCallback</span> = <span class="hljs-function">(<span class="hljs-params">
    err: <span class="hljs-built_in">Error</span>,
    str: <span class="hljs-built_in">string</span>,
    filename: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>,
    lineno: <span class="hljs-built_in">number</span>,
    esc: EscapeCallback,
</span>) =&gt;</span> <span class="hljs-built_in">never</span>;

<span class="hljs-comment">/**
 * The callback called by `ClientFunction` to include files at runtime with `include()`
 *
 * <span class="hljs-doctag">@param</span> path Path to be included
 * <span class="hljs-doctag">@param</span> data Data passed to the template
 * <span class="hljs-doctag">@return</span> Contents of the file requested
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IncludeCallback</span> = <span class="hljs-function">(<span class="hljs-params">path: <span class="hljs-built_in">string</span>, data?: Data</span>) =&gt;</span> <span class="hljs-built_in">string</span>;

<span class="hljs-comment">/**
 * An object where {<span class="hljs-doctag">@link</span> filename} is the final parsed path or {<span class="hljs-doctag">@link</span> template} is the content of the included template
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IncluderResult</span> = { <span class="hljs-attr">filename</span>: <span class="hljs-built_in">string</span>; template?: <span class="hljs-built_in">never</span> } | { <span class="hljs-attr">template</span>: <span class="hljs-built_in">string</span>; filename?: <span class="hljs-built_in">never</span> };

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@param</span> originalPath the path as it appears in the include statement
 * <span class="hljs-doctag">@param</span> parsedPath the previously resolved path
 *
 * <span class="hljs-doctag">@return</span> An {<span class="hljs-doctag">@link</span> IncluderResult} object containing the filename or template data.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IncluderCallback</span> = <span class="hljs-function">(<span class="hljs-params">originalPath: <span class="hljs-built_in">string</span>, parsedPath: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-title class_">IncluderResult</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> Options {
    <span class="hljs-comment">/**
     * Log the generated JavaScript source for the EJS template to the console.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    debug?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Include additional runtime debugging information in generated template
     * functions.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">true</span>
     */</span>
    compileDebug?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Whether or not to use `with () {}` construct in the generated template
     * functions. If set to `false`, data is still accessible through the object
     * whose name is specified by `ejs.localsName` (defaults to `locals`).
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">true</span>
     */</span>
    _with?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Whether to run in strict mode or not.
     * Enforces `_with=false`.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    strict?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * An array of local variables that are always destructured from `localsName`,
     * available even in strict mode.
     *
     * <span class="hljs-doctag">@default</span> []
     */</span>
    destructuredLocals?: <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Remove all safe-to-remove whitespace, including leading and trailing
     * whitespace. It also enables a safer version of `-%&gt;` line slurping for all
     * scriptlet tags (it does not strip new lines of tags in the middle of a
     * line).
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    rmWhitespace?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Whether or not to compile a `ClientFunction` that can be rendered
     * in the browser without depending on ejs.js. Otherwise, a `TemplateFunction`
     * will be compiled.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    client?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The escaping function used with `&lt;%=` construct. It is used in rendering
     * and is `.toString()`ed in the generation of client functions.
     *
     * <span class="hljs-doctag">@default</span> ejs.escapeXML
     */</span>
    <span class="hljs-built_in">escape</span>?: <span class="hljs-title class_">EscapeCallback</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The filename of the template. Required for inclusion and caching unless
     * you are using `renderFile`. Also used for error reporting.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">undefined</span>
     */</span>
    filename?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The path to the project root. When this is set, absolute paths for includes
     * (/filename.ejs) will be relative to the project root.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">undefined</span>
     */</span>
    root?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The opening delimiter for all statements. This allows you to clearly delinate
     * the difference between template code and existing delimiters. (It is recommended
     * to synchronize this with the closeDelimiter property.)
     *
     * <span class="hljs-doctag">@default</span> ejs.openDelimiter
     */</span>
    openDelimiter?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The closing delimiter for all statements. This allows to to clearly delinate
     * the difference between template code and existing delimiters. (It is recommended
     * to synchronize this with the openDelimiter property.)
     *
     * <span class="hljs-doctag">@default</span> ejs.closeDelimiter
     */</span>
    closeDelimiter?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Character to use with angle brackets for open/close
     * <span class="hljs-doctag">@default</span> &#x27;%&#x27;
     */</span>
    delimiter?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Whether or not to enable caching of template functions. Beware that
     * the options of compilation are not checked as being the same, so
     * special handling is required if, for example, you want to cache client
     * and regular functions of the same file.
     *
     * Requires `filename` to be set. Only works with rendering function.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    cache?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * The Object to which `this` is set during rendering.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">this</span>
     */</span>
    context?: <span class="hljs-built_in">any</span>;

    <span class="hljs-comment">/**
     * Whether or not to create an async function instead of a regular function.
     * This requires language support.
     *
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
     */</span>
    <span class="hljs-keyword">async</span>?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Make sure to set this to &#x27;false&#x27; in order to skip UglifyJS parsing,
     * when using ES6 features (`const`, etc) as UglifyJS doesn&#x27;t understand them.
     * <span class="hljs-doctag">@default</span> <span class="hljs-variable">true</span>
     */</span>
    beautify?: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Name to use for the object storing local variables when not using `with` or destructuring.
     *
     * <span class="hljs-doctag">@default</span> ejs.localsName
     */</span>
    localsName?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/** Set to a string (e.g., &#x27;echo&#x27; or &#x27;print&#x27;) for a function to print output inside scriptlet tags. */</span>
    outputFunctionName?: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * An array of paths to use when resolving includes with relative paths
     */</span>
    views?: <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Custom function to handle EJS includes
     */</span>
    includer?: <span class="hljs-title class_">IncluderCallback</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> Cache {
    <span class="hljs-comment">/**
     * Cache the intermediate JavaScript function for a template.
     *
     * <span class="hljs-doctag">@param</span> key key for caching
     * <span class="hljs-doctag">@param</span> val cached function
     */</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">val</span>: <span class="hljs-title class_">TemplateFunction</span>): <span class="hljs-built_in">void</span>;

    <span class="hljs-comment">/**
     * Get the cached intermediate JavaScript function for a template.
     *
     * <span class="hljs-doctag">@param</span> key key for caching
     */</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">TemplateFunction</span> | <span class="hljs-literal">undefined</span>;

    <span class="hljs-comment">/**
     * Clear the entire cache.
     */</span>
    <span class="hljs-title function_">reset</span>(): <span class="hljs-built_in">void</span>;
}
